<!DOCTYPE html>
<html>
<head>
    <title>Package Reference - EpicServer Documentation</title>
    <link rel="stylesheet" href="/site/styles.css">
    <script src="/site/script.js"></script>
    <!-- Add highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>
    <div class="nav">
        <a href="/site/index.html">Home</a>
        <a href="/site/getting-started.html">Getting Started</a>
        <a href="/site/core-features.html">Core Features</a>
        <a href="/site/advanced-usage.html">Advanced Usage</a>
        <a href="/site/security.html">Security</a>
        <a href="/site/package-reference.html">Package Reference</a>
        <a href="/site/changelog.html">Changelog</a>
    </div>

    <div class="container">
        <h1>Package Reference</h1>
        <p>This page documents the types, functions, and methods available in the EpicServer Go package. Each section includes details about usage, parameters, and return values.</p>

        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#server-type">Server Type</a></li>
                <li><a href="#configuration">Configuration</a></li>
                <li><a href="#routing">Routing</a></li>
                <li><a href="#middleware">Middleware</a></li>
                <li><a href="#static-content">Static Content</a></li>
                <li><a href="#error-handling">Error Handling</a></li>
            </ul>
        </div>

        <h2 id="introduction">Introduction</h2>
        <p>EpicServer is a Go package that provides a simple, flexible HTTP server framework. It offers a clean API for building web applications and services in Go.</p>
        
        <h3>Import Path</h3>
        <p>To use EpicServer in your Go applications, import it using:</p>
        <pre><code>import "github.com/tomskip123/EpicServer/v2"</code></pre>
        
        <h3>Response Format</h3>
        <p>All API responses follow a standard format:</p>
        <pre><code>{
  "data": { ... },  // The response data (if successful)
  "error": "...",   // Error message (if an error occurred)
  "status": 200     // HTTP status code
}</code></pre>

        <h2 id="server-type">Server Type</h2>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">Type</span>
                <span class="path">Server</span>
            </div>
            <p>The main Server type that encapsulates the HTTP server functionality.</p>
            
            <h4>Fields</h4>
            <table class="parameter-table">
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Config</td>
                    <td>*ServerConfig</td>
                    <td>Server configuration options</td>
                </tr>
            </table>
            
            <h4>Methods</h4>
            <table class="parameter-table">
                <tr>
                    <th>Method</th>
                    <th>Signature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>NewServer</td>
                    <td>func NewServer(options []Option) *Server</td>
                    <td>Creates a new server instance with the provided configuration options</td>
                </tr>
                <tr>
                    <td>Start</td>
                    <td>func (s *Server) Start() error</td>
                    <td>Starts the HTTP server</td>
                </tr>
                <tr>
                    <td>Shutdown</td>
                    <td>func (s *Server) Shutdown(ctx context.Context) error</td>
                    <td>Gracefully shuts down the server</td>
                </tr>
            </table>
        </div>

        <h2 id="configuration">Configuration</h2>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">Type</span>
                <span class="path">ServerConfig</span>
            </div>
            <p>Configuration options for the EpicServer.</p>
            
            <h4>Fields</h4>
            <table class="parameter-table">
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Port</td>
                    <td>int</td>
                    <td>Port number for the server to listen on</td>
                </tr>
                <tr>
                    <td>StaticDir</td>
                    <td>string</td>
                    <td>Directory path for static content</td>
                </tr>
                <tr>
                    <td>EnableRateLimiting</td>
                    <td>bool</td>
                    <td>Whether to enable rate limiting</td>
                </tr>
            </table>
        </div>

        <h2 id="static-content">Static Content</h2>
        <p>EpicServer serves static content from the <code>/site/</code> path. The following routes are available:</p>
        
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="path">/site/*</span>
            </div>
            <p>Serves static files from the configured static directory.</p>
            
            <h4>Examples</h4>
            <ul>
                <li><code>/site/index.html</code> - Main documentation page</li>
                <li><code>/site/styles.css</code> - CSS styles</li>
                <li><code>/site/script.js</code> - JavaScript files</li>
            </ul>
        </div>
        
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="path">/</span>
            </div>
            <p>Redirects to <code>/site/index.html</code>.</p>
        </div>

        <h2 id="error-handling">Error Handling</h2>
        <p>EpicServer uses standard HTTP status codes to indicate the success or failure of an API request:</p>
        
        <table class="parameter-table">
            <tr>
                <th>Status Code</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>200 OK</td>
                <td>The request was successful</td>
            </tr>
            <tr>
                <td>400 Bad Request</td>
                <td>The request was invalid or cannot be served</td>
            </tr>
            <tr>
                <td>401 Unauthorized</td>
                <td>Authentication is required and has failed or has not been provided</td>
            </tr>
            <tr>
                <td>403 Forbidden</td>
                <td>The request is understood, but it has been refused or access is not allowed</td>
            </tr>
            <tr>
                <td>404 Not Found</td>
                <td>The requested resource could not be found</td>
            </tr>
            <tr>
                <td>429 Too Many Requests</td>
                <td>Rate limit exceeded</td>
            </tr>
            <tr>
                <td>500 Internal Server Error</td>
                <td>An error occurred on the server</td>
            </tr>
        </table>
        
        <p>Error responses include an error message in the response body:</p>
        <pre><code>{
  "error": "Detailed error message",
  "status": 400
}</code></pre>
    </div>
    
    <div class="footer">
        <p>Powered by EpicServer - A powerful, flexible, and production-ready web server</p>
        <p>API Reference Documentation</p>
    </div>

    <script>
        // Add a timestamp to the footer
        document.addEventListener('DOMContentLoaded', function() {
            const footer = document.querySelector('.footer');
            if (footer) {
                const timestamp = document.createElement('p');
                timestamp.textContent = 'Last updated: ' + new Date().toLocaleString();
                timestamp.style.fontSize = '0.8em';
                footer.appendChild(timestamp);
            }
        });
    </script>
</body>
</html> 