<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Changelog for EpicServer - A powerful, flexible, and production-ready Go web server built on top of Gin framework.">
    <meta name="keywords" content="Go, Golang, Web Server, Gin Framework, EpicServer, Changelog, Version History">
    <meta name="author" content="tomskip123">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="EpicServer Changelog">
    <meta property="og:description" content="Version history and changes for EpicServer - A powerful, flexible, and production-ready Go web server.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/EpicServer/changelog.html">
    <title>EpicServer Changelog</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>
    <link rel="canonical" href="/EpicServer/changelog.html">
</head>
<body>
    <header>
        <nav class="nav" aria-label="Main Navigation">
            <a href="index.html">Home</a>
            <a href="getting-started.html">Getting Started</a>
            <a href="core-features.html">Core Features</a>
            <a href="advanced-usage.html">Advanced Usage</a>
            <a href="security.html">Security</a>
            <a href="package-reference.html">Package Reference</a>
            <a href="changelog.html">Changelog</a>
        </nav>
    </header>

    <main class="container">
        <article>
            <header>
                <h1>EpicServer Changelog</h1>
                <p>A complete history of versions and changes to EpicServer.</p>
                <div class="badges">
                    <span class="badge">Go â‰¥ 1.23</span>
                    <span class="badge">Version 2.0.4</span>
                    <span class="badge"><a href="https://coveralls.io/github/tomskip123/EpicServer?branch=main&v=1" target="_blank">Coverage Status</a></span>
                </div>
            </header>

            <section aria-labelledby="v204">
                <h2 id="v204">Version 2.0.4 - March 5, 2025</h2>
                
                <h3>Documentation Updates</h3>
                <p>Version 2.0.4 enhances documentation completeness:</p>
                <ul>
                    <li><strong>Comprehensive Documentation</strong>:
                        <ul>
                            <li>Added detailed documentation for HTTP/2 support functionality</li>
                            <li>Added documentation for Trusted Proxies configuration features</li>
                            <li>Expanded Rate Limiting documentation with configuration examples</li>
                            <li>Added comprehensive Advanced Logging Configuration section</li>
                            <li>Improved Static File Serving documentation including SPA support</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Recent Improvements</h3>
                <ul>
                    <li><strong>Thread Safety Improvements</strong>:
                        <ul>
                            <li>Fixed data race condition in Server struct by adding a mutex to protect concurrent access</li>
                            <li>Updated <code>Start()</code> and <code>Stop()</code> methods to use mutex protection when accessing the HTTP server</li>
                            <li>Enhanced tests to properly handle concurrent access to server resources</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Internal Changes</h3>
                <ul>
                    <li>Improved test coverage configuration to exclude test helper files</li>
                    <li>Renamed <code>db/test_helpers.go</code> to <code>db/helpers_test.go</code> for better test organization</li>
                    <li>Updated test coverage script to filter out helper files properly</li>
                </ul>
            </section>

            <section aria-labelledby="v203">
                <h2 id="v203">Version 2.0.3 - March 3, 2025</h2>
                
                <h3>Improvements</h3>
                <ul>
                    <li><strong>Enhanced Test Coverage</strong>:
                        <ul>
                            <li>Improved overall test coverage from 79.9% to 80.7%, surpassing the minimum threshold of 80%</li>
                            <li>Added comprehensive tests for CSRF protection functionality in middleware</li>
                            <li>Enhanced logging test suite with additional test cases for special JSON fields and caller information</li>
                            <li>Fixed edge cases in authentication tests to avoid nil pointer dereferences</li>
                            <li>Added specific test for <code>VerifyCSRFToken</code> middleware with various request scenarios</li>
                            <li>Added tests for special fields in JSON format logging</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Bug Fixes</h3>
                <ul>
                    <li><strong>Test Reliability Improvements</strong>:
                        <ul>
                            <li>Fixed the <code>TestWriteJSON_SpecialFields</code> test to properly validate JSON fields</li>
                            <li>Fixed the <code>TestLog_WithCallerInfo</code> test to correctly verify caller information</li>
                            <li>Updated the <code>TestWithCSRFProtection_AdditionalCases</code> test to properly use the <code>VerifyCSRFToken</code> middleware</li>
                            <li>Made tests more robust by using proper expectations for field presence rather than specific values</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section aria-labelledby="v202">
                <h2 id="v202">Version 2.0.2 - March 3, 2024</h2>
                
                <h3>New Features</h3>
                <ul>
                    <li><strong>Enhanced Logging System</strong>:
                        <ul>
                            <li>Added module-based logging to control log levels for specific components</li>
                            <li>Implemented hierarchical module structure with inheritance (e.g., <code>auth.oauth</code>)</li>
                            <li>Added global log level registry for centralized management</li>
                            <li>Added support for custom log registries for complex applications</li>
                            <li>Added new methods: <code>WithModule()</code>, <code>SetRegistry()</code>, and global helpers</li>
                            <li>Added new AppLayers: <code>WithModuleLogLevel()</code> and <code>WithLogRegistry()</code></li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Improvements</h3>
                <ul>
                    <li><strong>Test Coverage Framework</strong>:
                        <ul>
                            <li>Added comprehensive test coverage validation with reporting tools</li>
                            <li>Implemented <code>test-coverage.sh</code> script for generating detailed coverage reports</li>
                            <li>Added GitHub workflow for continuous test coverage validation in CI</li>
                            <li>Enhanced GitHub Actions workflow with Coveralls integration for visual coverage reporting</li>
                            <li>Set minimum coverage threshold at 80% with quality indicators</li>
                            <li>Added coverage configuration with <code>.coveragerc</code> for consistent analysis</li>
                        </ul>
                    </li>
                    <li><strong>Module Path Updates</strong>:
                        <ul>
                            <li>Updated import paths from <code>github.com/tomskip123/EpicServer</code> to <code>github.com/tomskip123/EpicServer/v2</code></li>
                            <li>Fixed module versioning in all database connectors (MongoDB, MySQL, PostgreSQL, GORM)</li>
                            <li>Updated import paths in cache implementations</li>
                            <li>Updated code examples in README.md to use the correct import paths</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Bug Fixes</h3>
                <ul>
                    <li><strong>Thread Safety Improvements</strong>:
                        <ul>
                            <li>Fixed data race condition in Server struct by adding a mutex to protect concurrent access to the <code>srv</code> field</li>
                            <li>Updated <code>Start()</code> and <code>Stop()</code> methods to use mutex protection when accessing the HTTP server</li>
                            <li>Enhanced tests to properly handle concurrent access to server resources</li>
                        </ul>
                    </li>
                    <li><strong>Test Improvements</strong>:
                        <ul>
                            <li>Fixed <code>TestRateLimiterAllow</code> and <code>TestRateLimiterConcurrency</code> tests by implementing a simplified test-specific RateLimiter</li>
                            <li>Fixed <code>TestLogger_Levels</code> to properly set the debug log level before testing</li>
                            <li>Updated <code>TestNewServer</code> to check for errors using <code>HasErrors()</code> instead of expecting panics</li>
                            <li>Fixed <code>TestDefaultAuthHooks_OnUserCreate</code> and <code>TestDefaultHooks</code> to align with the updated implementation of <code>OnUserCreate</code></li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section aria-labelledby="v201">
                <h2 id="v201">Version 2.0.1 - June 10, 2023</h2>
                
                <h3>Improvements</h3>
                <ul>
                    <li><strong>Documentation</strong>:
                        <ul>
                            <li>Added detailed migration guide to README.md with code examples for all breaking changes</li>
                            <li>Enhanced code examples with imports and context for better clarity</li>
                            <li>Added complete API usage examples for new features in v2.0.0</li>
                        </ul>
                    </li>
                    <li><strong>AI Development Support</strong>:
                        <ul>
                            <li>Added comprehensive cursor rules documentation for AI-assisted development</li>
                            <li>Implemented changelog maintenance guidelines to ensure consistent documentation</li>
                            <li>Added migration patterns with before/after code examples</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section aria-labelledby="v200">
                <h2 id="v200">Version 2.0.0 - May 29, 2023</h2>
                
                <h3>Breaking Changes</h3>
                <ul>
                    <li><strong>Logger Interface</strong>: Completely refactored the logging system
                        <ul>
                            <li>Logger interface now requires structured logging methods</li>
                            <li>Changed method signatures from <code>Debug(args ...interface{})</code> to <code>Debug(msg string, fields ...LogField)</code></li>
                            <li>Added new methods: <code>WithFields()</code>, <code>SetOutput()</code>, <code>SetLevel()</code>, <code>SetFormat()</code>, and <code>Fatal()</code></li>
                            <li>Migration: Update to use the new <code>F()</code> function for structured fields (e.g., <code>logger.Info("Message", F("key", value))</code>)</li>
                        </ul>
                    </li>
                    <li><strong>MongoDB Interface</strong>:
                        <ul>
                            <li><code>GetMongoClient()</code> now returns <code>(*mongo.Client, bool)</code> instead of just <code>*mongo.Client</code></li>
                            <li><code>GetMongoCollection()</code> now returns <code>(*mongo.Collection, error)</code> instead of just <code>*mongo.Collection</code></li>
                            <li>Removed panic calls in database connections, now returns errors instead</li>
                            <li>Migration: Check the boolean/error return values before using the client or collection</li>
                        </ul>
                    </li>
                    <li><strong>Memory Cache Configuration</strong>:
                        <ul>
                            <li>Added required configuration parameters for the memory cache</li>
                            <li>Migration: Set <code>DefaultTTL</code>, <code>CleanupInterval</code>, and optionally <code>MaxItems</code> when creating a memory cache</li>
                        </ul>
                    </li>
                    <li><strong>Server Initialization</strong>:
                        <ul>
                            <li>Server no longer panics on configuration errors</li>
                            <li>You must check <code>server.HasErrors()</code> after initialization</li>
                            <li>Migration: Add error checks after server creation</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>New Features</h3>
                <ul>
                    <li><strong>Structured Logging System</strong>:
                        <ul>
                            <li>Added support for multiple log levels (Debug, Info, Warn, Error, Fatal)</li>
                            <li>Added structured log fields for better parsing and searching</li>
                            <li>Added different output formats (Text, JSON)</li>
                            <li>Added caller information for better debugging</li>
                            <li>Added log level configuration</li>
                        </ul>
                    </li>
                    <li><strong>Enhanced Configuration System</strong>:
                        <ul>
                            <li>Added environment variable support via <code>WithEnvVars()</code> option</li>
                            <li>Implemented configuration validation via <code>Config.Validate()</code></li>
                            <li>Added more configuration options for security settings</li>
                            <li>Created better defaults for secure configuration</li>
                        </ul>
                    </li>
                    <li><strong>Security Enhancements</strong>:
                        <ul>
                            <li>Added comprehensive IP-based rate limiting with <code>WithRateLimiter()</code></li>
                            <li>Added security headers middleware with <code>WithSecurityHeaders()</code></li>
                            <li>Implemented HTTP Strict Transport Security (HSTS)</li>
                            <li>Added Content Security Policy (CSP) support</li>
                            <li>Added Referrer Policy and Permissions Policy</li>
                            <li>Added X-Content-Type-Options, X-Frame-Options, and X-XSS-Protection</li>
                        </ul>
                    </li>
                    <li><strong>Cache Improvements</strong>:
                        <ul>
                            <li>Enhanced memory cache with TTL-based cleanup</li>
                            <li>Added cache eviction policies based on age</li>
                            <li>Added cache statistics</li>
                            <li>Added more cache operations (Flush, ItemCount)</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Improvements</h3>
                <ul>
                    <li><strong>Error Handling</strong>:
                        <ul>
                            <li>Added custom error types for better error information</li>
                            <li>Added error tracking in the server for initialization errors</li>
                            <li>Added methods to check server initialization status and retrieve errors</li>
                            <li>Replaced panics with proper error returns</li>
                        </ul>
                    </li>
                    <li><strong>Documentation</strong>:
                        <ul>
                            <li>Added comprehensive documentation for all public APIs</li>
                            <li>Improved parameter naming for better readability</li>
                            <li>Added usage examples for complex features</li>
                        </ul>
                    </li>
                    <li><strong>Performance</strong>:
                        <ul>
                            <li>Implemented more efficient middleware options</li>
                            <li>Added memory optimization in caching layer</li>
                            <li>Improved handling of database connections</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Internal Changes</h3>
                <ul>
                    <li>Improved code organization and consistency</li>
                    <li>Enhanced test coverage and reliability</li>
                    <li>Standardized error handling patterns</li>
                    <li>Added more validation for configuration values</li>
                </ul>
            </section>

            <section aria-labelledby="earlier-versions">
                <h2 id="earlier-versions">Earlier Versions</h2>
                <p>For earlier versions and more detailed changelog information, please see the <a href="https://github.com/tomskip123/EpicServer/blob/main/CHANGELOG.md" target="_blank">CHANGELOG.md</a> file in the repository.</p>
            </section>
        </article>
    </main>
    
    <footer class="footer">
        <p>Powered by EpicServer - A powerful, flexible, and production-ready web server</p>
        <p>Documentation generated from README.md and CHANGELOG.md</p>
    </footer>

    <script>
        // Add a timestamp to the footer
        document.addEventListener('DOMContentLoaded', function() {
            const footer = document.querySelector('.footer');
            if (footer) {
                const timestamp = document.createElement('p');
                timestamp.textContent = 'Last updated: ' + new Date().toLocaleString();
                timestamp.style.fontSize = '0.8em';
                timestamp.setAttribute('data-generated', 'timestamp');
                footer.appendChild(timestamp);
            }
        });
    </script>
</body>
</html> 